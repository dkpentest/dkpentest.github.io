<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#1b1b1b">
	<title>Virtual_target_circumstance | drunk for pentest</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="stylesheet" href="/css/bundle.css">
	<link rel="icon" href="/icons/16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="/icons/32.png" sizes="32x32" type="image/png">
		
</head>
<body class="body kind-page">
	<header class="header">
	<a class="logo" href="/">drunk for pentest</a>
	
</header>
	<div class="primary">
	
	<main class="main">
		
		<div class="single block">
			<article class="entry">
				<h1 class="entry__title">Virtual_target_circumstance</h1>
				<div class="entry__content"><h3 id="虚拟技术概述">虚拟技术概述</h3>
<p>虚拟化技术有两类（如，VMware就有两个产品线）</p>
<ul>
<li>一型虚拟化：VMM（即 Hypervisor）直接跑在裸金属机上（如，VMware ESXi）</li>
<li>二型虚拟化：跑在操作系统上</li>
</ul>
<h4 id="虚拟机三件套">虚拟机三件套</h4>
<ul>
<li>VirtualBox 原生支持 .vdi 格式</li>
<li>VMware     原声支持 .vmdk 格式</li>
<li>VirturlPC  微软的 .vhd 格式</li>
</ul>
<pre tabindex="0"><code>.ova是预制机，VB可以直接导入打开
.vmdk是文件系统，大部分vulnhub都是这个格式，需要新建一个系统（通常是linux ubuntu64）加载vmdk文件系统
</code></pre><p>虚拟机三件套本质上还是翻译指令成二进制，通过CPU执行；
而 QEMU 是纯软件仿真</p>
<h4 id="kvmqemu">KVM、QEMU</h4>
<p>QEMU - 纯软件化
KVM - 已经集成在 linux kernel 的 Hypervisor</p>
<p>KVM-QEMU 经常一起搭配使用，比普通QEMU会更快一些</p>
<h4 id="lxc-和-docker">LXC 和 docker</h4>
<p>完全虚拟出一台计算机过于笨重，软件层上为了简单提供一个可执行环境、并有隔离产生的技术叫 LXC
各大厂的 docker 也都是基于 LXC，不过多封装了一些依赖组件</p>
<p>docker 的安全性不如全虚拟、半虚拟、硬件辅助虚拟，容易通过内核漏洞逃逸</p>
<h4 id="firecracker">firecracker</h4>
<p>最近比较新的解决方案，体量介于 虚拟机 和 docker之间，安全性高于 docker</p>
<hr>
<h3 id="0x1-靶场环境搭建">0x1 靶场环境搭建</h3>
<h4 id="vm-virtualbox">VM VirtualBox</h4>
<p>笔者使用台式机作为工作站，首选安装这个不要钱的VirtualBox（安装方法略）</p>
<h4 id="安装-kali-作为攻击机">安装 kali 作为攻击机</h4>
<p>（安装方法略）</p>
<pre tabindex="0"><code>网络模式：
- NAT 模式（Network Address Translation 网络地址转换）：通过宿主机的IP访问网络，不需要任何配置，常用于IP地址受限的场景，只有同样使用NAT的VM可以互相访问
- Bridged 桥接模式：VM 通过宿主机（指定接口）访问网络，VM拥有独立的IP（如果开启了DHCP会自动分配，如果没有开启则需要手动配置静态IP），VM之间可以互相访问
- host only：隔离网络，VM及宿主机可以互相访问
- LAN 局域网：隔离网络，不能访问宿主机
</code></pre><p>登录账号密码是kali/kali</p>
<h4 id="安装-metasploitable2-作为靶机">安装 metasploitable2 作为靶机</h4>
<p>（下载地址略）
这是个vmdk，需要新建一个linux ubuntu64虚拟机加载这个vmdk文件系统<br>
登陆账号密码是msfadmin/msfadmin</p></div>
				
			</article>
		</div>
	</main>
	
	



	

	</div>
	<footer class="footer">
	<div class="footer__copyright">© 2024 drunk for pentest. <span class="footer__copyright-credits">Powered by <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/vimux/binario" rel="nofollow noopener" target="_blank">Binario</a> theme.</span></div>
</footer>
</body>
</html>