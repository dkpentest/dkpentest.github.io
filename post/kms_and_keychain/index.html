<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#1b1b1b">
	<title>KMS_and_Keychain | drunk for pentest</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="stylesheet" href="/css/bundle.css">
	<link rel="icon" href="/icons/16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="/icons/32.png" sizes="32x32" type="image/png">
		
</head>
<body class="body kind-page">
	<header class="header">
	<a class="logo" href="/">drunk for pentest</a>
	
</header>
	<div class="primary">
	
	<main class="main">
		
		<div class="single block">
			<article class="entry">
				<h1 class="entry__title">KMS_and_Keychain</h1>
				<div class="entry__content"><h3 id="kms-与-keychain">KMS 与 KeyChain</h3>
<p>KMS（Key Management Service）是一种云计算服务，本质上就是各个服务器把关键信息（加密密钥、自己的公钥等）托管在KMS服务器中，KMS又把这些信息存储在HSM（Hardware Security Module）中。
KeyChain是 macOS 和 iOS 提供的一种安全存储敏感信息的工具，本质上也是把数据存储在HSM硬件安全模块。
keystore是 Android 上的机制</p>
<p>HSM本身的实现方式其实五花八门，各家各自发挥，通过SoC固件形式集成机密计算、真随机数、甚至内存动态度量、TPM远程证明。</p>
<h5 id="基本原理">基本原理</h5>
<p>KMS：
当服务器需要使用时（如解密数据）时，用自己的私钥向KMS服务器发起获取密钥请求，KMS用服务器的公钥核实对方身份后再把托管加密密钥用自己的私钥签名发送给服务器，这样实现了服务器的密钥管理。（实际上KMS还有密钥轮换、密钥审计、密钥版本管理等许多其他功能）</p>
<p>iOS KeyChain:
先看看可视化界面，按功能分若干个钥匙串（登陆、本地项目、系统、系统根证书）
每个钥匙串分：
密码（应用程序密码、AirPort网络密码）
密钥（公钥、私钥（就是下面证书里的））
我的证书（证书、证书里面还有可能包含私钥）
证书（证书、证书里面还有可能包含私钥）</p>
<p>从数据结构上来看</p>
<p>Keystore：
&lt;待补充&gt;</p>
<p>思考题：
怎么没见到给公钥颁证书的？</p></div>
				
			</article>
		</div>
	</main>
	
	



	

	</div>
	<footer class="footer">
	<div class="footer__copyright">© 2024 drunk for pentest. <span class="footer__copyright-credits">Powered by <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/vimux/binario" rel="nofollow noopener" target="_blank">Binario</a> theme.</span></div>
</footer>
</body>
</html>